# VoiceNotes 功能说明

VoiceNotes 是一个简洁的语音转文字笔记应用，支持多种 AI 功能来优化和管理你的语音笔记。

## 🎯 核心功能

### 1. 语音录制 🎙️

**功能描述**：
- 按住录音按钮进行录音
- 松手自动保存并转写为文字
- 支持实时显示转写结果

**使用场景**：
- 快速记录灵感和想法
- 会议记录
- 讲座和培训笔记
- 日常备忘

**技术实现**：
- 使用浏览器 Web Audio API
- 支持多种音频格式（MP3、WAV、OGG、WebM）
- 阿里云 Qwen-ASR 实时语音识别

---

### 2. 文本优化（去口语）✨

**功能描述**：
将口语化的转写文本优化为规范的书面表达。

**处理内容**：
- ✅ 去除填充词（"那个"、"呃"、"啊"、"嗯"）
- ✅ 消除重复表达（"然后然后"、"就是就是"）
- ✅ 优化句式结构，使表达更流畅
- ✅ 保持原意，不添加新内容
- ✅ 提升专业性和可读性

**使用流程**：
1. 录音或查看已有笔记
2. 点击"去口语"按钮
3. AI 自动优化文本
4. 原文被优化后的文本替换

**使用场景**：
- 多次录音后统一优化
- 准备分享或发布内容前
- 提高笔记的专业性

**技术实现**：
- 模型：通义千问 Qwen-Plus
- System Prompt 配置化（可在 `js/config.js` 中自定义）
- 温度参数：0.3（保证稳定性）

**配置文件**：
```javascript
// js/config.js
const PROMPTS = {
  REMOVE_FILLER_WORDS: {
    system: `你是一个专业的内容编辑...`
  }
};
```

---

### 3. 智能纪要生成 📋

**功能描述**：
根据笔记内容自动生成结构化的会议纪要。

**输出格式**：
```markdown
# 会议纪要

## 一、核心要点
- 要点1
- 要点2

## 二、讨论内容
### 2.1 主题1
- 讨论内容

## 三、行动项
- [ ] 待办事项 - 负责人 - 截止时间

## 四、重要决策
1. 决策1
2. 决策2

## 五、下次讨论
- 议题1
- 议题2
```

**使用流程**：
1. 在详情页查看笔记
2. 点击"生成纪要"按钮
3. AI 分析内容并生成纪要
4. 纪要自动追加到笔记末尾

**使用场景**：
- 会议结束后的整理
- 一天工作结束时的复盘
- 项目总结和回顾

**技术实现**：
- 使用配置化 Prompt 模板
- 自动提取关键信息
- 结构化输出

---

### 4. 追加录音 ➕

**功能描述**：
在已有笔记的基础上继续录音，内容会自动追加到原笔记中。

**使用流程**：
1. 打开已有笔记
2. 长按"按住追加"按钮
3. 录音内容自动追加到笔记末尾

**使用场景**：
- 补充之前的笔记
- 分段记录长内容
- 逐步完善思路

---

### 5. 笔记编辑 📝

**功能描述**：
- 直接在页面中编辑笔记内容
- 实时保存到 IndexedDB
- 支持多行文本和格式化

**编辑方式**：
- 点击笔记内容区域进入编辑模式
- 编辑完成后自动保存
- 可手动修改 AI 生成的内容

---

### 6. 笔记管理 📚

**列表功能**：
- 查看所有历史笔记
- 按时间倒序排列
- 显示笔记数量统计
- 空状态提示

**操作功能**：
- 点击查看详情
- 滑动删除（移动端）
- 确认删除对话框

**数据存储**：
- 使用浏览器 IndexedDB
- 本地存储，隐私安全
- 无需登录（可选密码保护）

---

### 7. 主题切换 🌙

**功能描述**：
支持浅色和深色两种主题模式。

**特点**：
- 自动保存用户偏好
- 平滑过渡动画
- 完整的色彩方案

**主题配色**：
- **浅色模式**：清爽明亮，适合白天使用
- **深色模式**：护眼舒适，适合夜间使用

---

### 8. PWA 支持 📱

**功能描述**：
可作为渐进式 Web 应用安装到设备。

**特性**：
- 添加到主屏幕
- 离线访问
- 快速启动
- 类似原生应用的体验

**安装方式**：
- **iOS Safari**：分享 → 添加到主屏幕
- **Android Chrome**：菜单 → 安装应用

---

## 🔧 AI 配置

### Prompt 自定义

所有 AI 交互的 Prompt 都可以在配置文件中自定义：

**配置文件**：`js/config.js`

```javascript
const PROMPTS = {
  // 去口语模式
  REMOVE_FILLER_WORDS: {
    system: `你的自定义 prompt...`
  },

  // 生成纪要模式
  GENERATE_SUMMARY: {
    user: `你的自定义 prompt...`
  }
};
```

### 模型选择

**当前使用**：
- 语音识别：Qwen-ASR（qwen-audio-asr）
- 文本优化：Qwen-Plus（qwen-plus）
- 纪要生成：Qwen-Plus（qwen-plus）

**可切换模型**：
- Qwen-Turbo（快速，成本低）
- Qwen-Plus（平衡，推荐）
- Qwen-Max（最强，成本高）

---

## 📊 使用统计

应用会显示以下统计信息：
- 总笔记数量
- 今日新增笔记数

---

## 🔐 隐私和安全

### 数据存储
- **本地存储**：所有笔记数据存储在浏览器 IndexedDB
- **不上传云端**：仅 API 调用时传输必要数据
- **完全掌控**：用户完全控制自己的数据

### API 调用
- **语音识别**：音频数据发送到阿里云
- **文本优化**：仅发送文本内容
- **纪要生成**：仅发送文本内容

### 密码保护（可选）
- 本地密码验证
- 密码存储在 localStorage
- 不上传到服务器

---

## 🚀 未来规划

### 计划中的功能
- [ ] 多语言支持
- [ ] 导出功能（PDF、Markdown）
- [ ] 云端同步
- [ ] 标签和分类
- [ ] 全文搜索
- [ ] 语音命令
- [ ] 协作分享
- [ ] AI 问答（基于笔记内容）

### 优化方向
- [ ] 提升语音识别准确率
- [ ] 优化去口语效果
- [ ] 增强纪要生成质量
- [ ] 减少响应延迟
- [ ] 离线模式支持

---

## 📖 相关文档

- [README](./README.md) - 项目概述和快速开始
- [DEVELOPMENT](./DEVELOPMENT.md) - 开发指南
- [DEPLOYMENT](./DEPLOYMENT.md) - 部署文档
- [MODEL_CONFIG.md](./MODEL_CONFIG.md) - 模型配置说明
